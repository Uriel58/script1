// source file: prog/lib/guid.s1
import '../../sys/s1.dart';

import './rnd.dart' as R;                          // (1) 
dynamic randomChar([chars])                        // (3) 
{                                                  // (3) 
  dynamic i=R.rInt(0,len(chars));                  // (4) 
  return chars[i];                                 // (5) 
}                                                  // (3) 
dynamic randomStr([chars,n])                       // (8) 
{                                                  // (8) 
  dynamic list=[];                                 // (9) 
  dynamic clen=len(chars);                         // (10) 
  for (var i in range(0,n))                        // (11) 
  {                                                // (11) 
    dynamic ci=R.rInt(0,clen);                     // (12) 
    push(list,chars[ci]);                          // (13) 
  };                                               // (11) 
                                                   // (11) 
  return join(list,'');                            // (15) 
}                                                  // (8) 
dynamic BASE='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'; // (18) 
dynamic baseChars([base])                          // (20) 
{                                                  // (20) 
  return substr(BASE,0,base);                      // (21) 
}                                                  // (20) 
dynamic randomBase([base,len])                     // (24) 
{                                                  // (24) 
  return randomStr(baseChars(base),len);           // (25) 
}                                                  // (24) 
dynamic s4()                                       // (28) 
{                                                  // (28) 
  return randomBase(16,4);                         // (29) 
}                                                  // (28) 
dynamic guid()                                     // (33) 
{                                                  // (33) 
  return (s4()+(s4()+('-'+(s4()+('-'+(s4()+('-'+(s4()+('-'+(s4()+(s4()+s4()))))))))))); // (34) 
}                                                  // (33) 

